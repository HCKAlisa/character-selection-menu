!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var e=(e=>(e.Support="SUPPORT",e.Tank="TANK",e.Brawler="BRAWLER",e.Assassin="ASSASSIN",e))(e||{});const t=e=>`/character-selection-menu/${e.replace(/^\//,"")}`,a={buttons:{normal:t("/assets/Buttons/FilterButton_Normal.png"),hovered:t("/assets/Buttons/FilterButton_Hovered.png"),active:t("/assets/Buttons/FilterButton_Active.png"),checkboxEmpty:t("/assets/Buttons/Checkbox_Empty.png"),checkboxFill:t("/assets/Buttons/Checkbox_Fill.png")},cards:{backgroundNormal:t("/assets/CharacterCards/CardStates/CharacterCard_Background_Normal.png"),backgroundActive:t("/assets/CharacterCards/CardStates/CharacterCard_Background_Active.png"),foregroundNormal:t("/assets/CharacterCards/CardStates/CharacterCard_Foreground_Normal.png"),foregroundLocked:t("/assets/CharacterCards/CardStates/CharacterCard_Foreground_Locked.png"),active:t("/assets/CharacterCards/CardStates/CharacterCard_Active.png"),lockedActive:t("/assets/CharacterCards/CardStates/CharacterCard_Locked_Active.png")},icons:{all:t("/assets/Icons/Icon_All.png"),support:t("/assets/Icons/Icon_Support.png"),tank:t("/assets/Icons/Icon_Tank.png"),brawler:t("/assets/Icons/Icon_Brawler.png"),assassin:t("/assets/Icons/Icon_Assassin.png")},static:{background:t("/assets/Static/Background.png"),divider:t("/assets/Static/ScreenDivider.png"),bottomBar:t("/assets/Static/Bottom_Bar.png")}},s=[{iconUrl:a.icons.all,label:"ALL"},{category:e.Support,iconUrl:a.icons.support,label:"SUPPORT"},{category:e.Tank,iconUrl:a.icons.tank,label:"TANK"},{category:e.Brawler,iconUrl:a.icons.brawler,label:"BRAWLER"},{category:e.Assassin,iconUrl:a.icons.assassin,label:"ASSASSIN"}];class r{static instance;eventListeners=new Map;activeFilter=null;showLocked=!0;selectedCharacterId=null;constructor(){this.eventListeners.set("filterChanged",new Set),this.eventListeners.set("showLockedChanged",new Set),this.eventListeners.set("selectedCharacterChanged",new Set)}static getInstance(){return r.instance||(r.instance=new r),r.instance}getActiveFilter(){return this.activeFilter}setActiveFilter(e){this.activeFilter=e,this.emit("filterChanged")}getShowLocked(){return this.showLocked}setShowLocked(e){this.showLocked=e,this.emit("showLockedChanged")}getSelectedCharacterId(){return this.selectedCharacterId}setSelectedCharacterId(e){this.selectedCharacterId!==e&&(this.selectedCharacterId=e,this.emit("selectedCharacterChanged"))}subscribe(e,t){const a=this.eventListeners.get(e);return a&&a.add(t),()=>{const a=this.eventListeners.get(e);a&&a.delete(t)}}emit(e){const t=this.eventListeners.get(e);t&&t.forEach(e=>e())}}class n{character;element=null;appState;visualState;eventHandlers=new Map;constructor(e){this.character=e,this.visualState="Normal",this.appState=r.getInstance(),this.createCardElement()}getElement(){if(!this.element)throw new Error("Card element not initialized");return this.element}createCardElement(){const t=document.createElement("div");t.classList.add("character-card","character-card--normal"),this.character.isLocked&&t.classList.add("character-card--locked");const s=document.createElement("div");s.classList.add("character-card__background"),t.appendChild(s);const r=document.createElement("img");r.classList.add("character-card__portrait"),r.src=this.character.imageUrl,r.alt=this.character.name,t.appendChild(r);const n=document.createElement("div");if(n.classList.add("character-card__foreground"),t.appendChild(n),this.character.isLocked){const e=document.createElement("div");e.classList.add("character-card__lock-overlay"),t.appendChild(e)}const i=document.createElement("img");i.classList.add("character-card__category-icon"),i.src=function(t){switch(t){case e.Support:return a.icons.support;case e.Tank:return a.icons.tank;case e.Brawler:return a.icons.brawler;case e.Assassin:return a.icons.assassin;default:return a.icons.all}}(this.character.category),t.appendChild(i);const c=document.createElement("div");c.classList.add("character-card__name"),c.textContent=this.character.name,t.appendChild(c);const l=document.createElement("div");return l.classList.add("character-card__level"),l.textContent=`${this.character.level}/ ${this.character.maxLevel}`,t.appendChild(l),this.element=t,this.attachEventListeners(),this.element}setState(e){this.visualState!==e&&(this.visualState=e,this.updateVisualState())}updateVisualState(){if(this.element)switch(this.element.classList.remove("character-card--hovered","character-card--active"),this.visualState){case"Normal":this.element.classList.remove("character-card--active","character-card--hovered"),this.element.classList.add("character-card--normal");break;case"Hovered":this.element.classList.add("character-card--hovered");break;case"Active":this.element.classList.remove("character-card--normal"),this.element.classList.add("character-card--active")}}destroy(){this.removeEventListeners(),this.element=null}attachEventListeners(){if(!this.element)return;const e=this.handleClick.bind(this);this.eventHandlers.set("click",e),this.element.addEventListener("click",e);const t=this.handleMouseEnter.bind(this);this.eventHandlers.set("mouseenter",t),this.element.addEventListener("mouseenter",t);const a=this.handleMouseLeave.bind(this);this.eventHandlers.set("mouseleave",a),this.element.addEventListener("mouseleave",a)}handleClick(){this.appState.setSelectedCharacterId(this.character.id)}handleMouseEnter(){"Active"!==this.visualState&&this.setState("Hovered")}handleMouseLeave(){"Active"!==this.visualState&&this.setState("Normal")}removeEventListeners(){this.eventHandlers.forEach((e,t)=>{this.element?.removeEventListener(t,e)}),this.eventHandlers.clear()}}class i{container=null;characters;cardInstances=[];appState;unsubscribeCallbacks=[];constructor(e,t){this.container=e,this.characters=t,this.appState=r.getInstance(),this.unsubscribeCallbacks.push(this.appState.subscribe("filterChanged",()=>this.update()),this.appState.subscribe("showLockedChanged",()=>this.update()),this.appState.subscribe("selectedCharacterChanged",()=>this.updateCardStates())),this.renderCards(this.characters)}renderCards(e){this.container&&(e.forEach(e=>{const t=new n(e);this.cardInstances.push({card:t,character:e}),this.container?.appendChild(t.getElement())}),this.updateCardStates())}clearCards(){this.cardInstances.forEach(e=>e.card.destroy()),this.cardInstances=[],this.container&&(this.container.innerHTML="")}update(){if(!this.container)return;this.clearCards();const e=this.appState.getActiveFilter(),t=this.appState.getShowLocked()?this.characters:this.characters.filter(e=>!e.isLocked),a=e?t.filter(t=>t.category===e):t;this.renderCards(a)}updateCardStates(){const e=this.appState.getSelectedCharacterId();this.cardInstances.forEach(t=>{e&&t.character.id===e?t.card.setState("Active"):t.card.setState("Normal")})}}const c=e=>`/character-selection-menu/${e.replace(/^\//,"")}`,l=[{id:"adrian",name:"Adrian",category:e.Support,isLocked:!1,level:2,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Adrian.png")},{id:"alfred",name:"Alfred",category:e.Tank,isLocked:!1,level:2,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Alfred.png")},{id:"amelia",name:"Amelia",category:e.Brawler,isLocked:!1,level:8,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Amelia.png")},{id:"annalise",name:"Annalise",category:e.Brawler,isLocked:!1,level:1,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Annalise.png")},{id:"djura",name:"Djura",category:e.Assassin,isLocked:!0,level:6,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Djura.png")},{id:"edwin",name:"Edwin",category:e.Support,isLocked:!1,level:4,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Edwin.png")},{id:"eileen",name:"Eileen",category:e.Assassin,isLocked:!1,level:6,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Eileen.png")},{id:"hunter",name:"Hunter",category:e.Tank,isLocked:!1,level:12,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Hunter.png")},{id:"maria",name:"Maria",category:e.Support,isLocked:!0,level:4,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Maria.png")},{id:"old_hunter",name:"Old Hunter",category:e.Brawler,isLocked:!0,level:1,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/OldHiunter.png")},{id:"pierce",name:"Pierce",category:e.Tank,isLocked:!1,level:0,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Pierce.png")},{id:"yahar",name:"Yahar",category:e.Assassin,isLocked:!0,level:0,maxLevel:15,imageUrl:c("/assets/CharacterCards/CharacterPortraits/Yahar.png")}];class o{element=null;appState;filterOption;visualState="Normal";unsubscribeCallback=null;eventHandlers=new Map;constructor(e){this.appState=r.getInstance(),this.filterOption=e,this.element=this.createButtonElement(e.label,e.iconUrl)}getElement(){if(!this.element)throw new Error("Filter button element not initialized");return this.element}createButtonElement(e,t){const a=document.createElement("div");a.classList.add("filter-button","filter-button--normal");const s=document.createElement("div");s.classList.add("filter-button-background"),a.appendChild(s);const r=document.createElement("img");r.src=t,r.alt=`${e} icon`,r.classList.add("filter-button__icon"),a.appendChild(r);const n=document.createElement("span");return n.classList.add("filter-button__label"),n.textContent=e,a.appendChild(n),this.element=a,this.attachEventListeners(),a}updateVisual(){if(this.element)switch(this.element.classList.remove("filter-button--normal","filter-button--hovered","filter-button--active"),this.visualState){case"Normal":this.element.classList.add("filter-button--normal");break;case"Hovered":this.element.classList.add("filter-button--hovered");break;case"Active":this.element.classList.add("filter-button--active")}}setState(e){this.visualState!==e&&(this.visualState=e,this.updateVisual())}updateActiveState(){const e=this.appState.getActiveFilter();e===this.filterOption.category||null===e&&void 0===this.filterOption.category?this.setState("Active"):this.setState("Normal")}handleClick(){this.appState.setActiveFilter(this.filterOption.category||null)}handleMouseEnter(){"Active"!==this.visualState&&this.setState("Hovered")}handleMouseLeave(){"Active"!==this.visualState&&this.setState("Normal")}attachEventListeners(){if(!this.element)return;const e=this.handleClick.bind(this);this.eventHandlers.set("click",e),this.element.addEventListener("click",e);const t=this.handleMouseEnter.bind(this);this.eventHandlers.set("mouseenter",t),this.element.addEventListener("mouseenter",t);const a=this.handleMouseLeave.bind(this);this.eventHandlers.set("mouseleave",a),this.element.addEventListener("mouseleave",a),this.unsubscribeCallback=this.appState.subscribe("filterChanged",()=>{this.updateActiveState()}),this.updateActiveState()}destroy(){this.unsubscribeCallback&&(this.unsubscribeCallback(),this.unsubscribeCallback=null),this.element=null}}class d{element=null;appState;isShowingLocked;eventHandlers=new Map;unsubscribeCallback=null;constructor(){this.appState=r.getInstance(),this.isShowingLocked=this.appState.getShowLocked(),this.createToggleElement(),this.appState.subscribe("showLockedChanged",()=>{this.isShowingLocked=this.appState.getShowLocked()})}createToggleElement(){const e=document.createElement("div");e.classList.add("toggle-lock");const t=document.createElement("div");t.classList.add("toggle-lock__checked","toggle-lock__button"),e.appendChild(t);const a=document.createElement("div");return a.classList.add("toggle-lock__label"),a.textContent="Show locked",e.appendChild(a),this.element=e,this.attachEventListeners(),this.element}getElement(){if(!this.element)throw new Error("Filter button element not initialized");return this.element}toggleShowLocked(){this.appState.setShowLocked(!this.isShowingLocked),this.updateVisual()}attachEventListeners(){if(!this.element)return;const e=this.toggleShowLocked.bind(this);this.eventHandlers.set("click",e),this.element.addEventListener("click",e),this.unsubscribeCallback=this.appState.subscribe("showLockedChanged",()=>{this.isShowingLocked=this.appState.getShowLocked()})}updateVisual(){if(!this.element)return;const e=this.element.querySelector(".toggle-lock__button");e&&(this.isShowingLocked?(e.classList.remove("toggle-lock__empty"),e.classList.add("toggle-lock__checked")):(e.classList.remove("toggle-lock__checked"),e.classList.add("toggle-lock__empty")))}destroy(){this.eventHandlers.forEach((e,t)=>{this.element?.removeEventListener(t,e)}),this.eventHandlers.clear(),this.unsubscribeCallback&&(this.unsubscribeCallback(),this.unsubscribeCallback=null),this.element=null}}const h=document.getElementById("character-grid");h&&new i(h,l);const u=document.getElementById("filter-buttons");if(u)for(const p of s){const e=new o(p);u.appendChild(e.getElement())}const m=document.getElementById("toggle-container");if(m){const e=new d;m.appendChild(e.getElement())}
